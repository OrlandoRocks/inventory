(function(){window.block=function(e){var n,o;o="",(e=$.extend(!0,{},e)).animate?o='<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><div class="block-spinner-bar"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></div>':e.iconOnly?o='<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><i class="fa fa-circle-o-notch fa-2x fa-spin"></i></div>':e.textOnly?o='<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><span>&nbsp;&nbsp;'+(e.message?e.message:"LOADING...")+"</span></div>":(o='<div class="loading-message '+(e.boxed?"loading-message-boxed":"")+'"><i class="fa fa-circle-o-notch fa-2x fa-spin"></i><span>&nbsp;&nbsp;'+(e.message?e.message:"LOADING...")+"</span></div>",$(".wrapper").css("filter","blur(1.5px)")),e.target?((n=$(e.target)).height()<=$(window).height()&&(e.cenrerY=!0),n.block({message:o,baseZ:e.zIndex?e.zIndex:1e3,centerY:void 0!==e.cenrerY&&e.cenrerY,css:{top:"10%",border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:e.overlayColor?e.overlayColor:"#555",opacity:e.boxed?.05:.1,cursor:"wait"}})):$.blockUI({message:o,baseZ:e.zIndex?e.zIndex:1e3,css:{border:"0",padding:"0",backgroundColor:"none"},overlayCSS:{backgroundColor:e.overlayColor?e.overlayColor:"#555",opacity:e.boxed?.05:.2,cursor:"wait"}})},window.unblock=function(e){e?$(e).unblock({onUnblock:function(){$(e).css("position",""),$(e).css("zoom","")}}):($.unblockUI(),$(".wrapper").removeClass("blur"),$(".wrapper").removeAttr("style"))},$(window).bind("page:change",function(){$("form").on("submit",function(){block({message:I18n.processing_message})}),$(ClientSideValidations.selectors.forms).enableClientSideValidations(),$(".btn-destroy").click(function(){var e,n,o,s,a,t;e=$(this),a=e.closest("tr"),n=e.data("resource"),o=e.data("resource-id"),s=e.data("resource-message"),t=n+"/"+o,swal.init(),swal({text:s,type:"warning",showCancelButton:!0,confirmButtonText:I18n.confirm,cancelButtonText:I18n.cancel,closeOnConfirm:!1,confirmButtonClass:"btn btn-success btn-flat",cancelButtonClass:"btn btn-danger btn-flat"},function(e){e&&$.ajax({url:t,type:"DELETE",dataType:"json",success:function(){swal({title:I18n.done,text:I18n.deleted,type:"success",confirmButtonText:I18n.ok}),$(a).remove()},error:function(){swal(I18n.error,I18n.try_again,"error")}})})})}),Array.prototype.slice.call(document.querySelectorAll(".js-switch")).forEach(function(e){return new Switchery(e)}),$(window).bind("page:change",function(){return $(".select2").select2({theme:"classic"}),$(".select2").find(".select2-search__field").removeAttr("style")})}).call(this);