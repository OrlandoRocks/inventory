(function(){$(window).bind("page:change",function(){$("#permission_controller").on("change",function(){var o,n;o=$("#permission_controller").val(),n=$("#permission_controller").data("url"),o?$.get(n,{resource:o}):$("#permission_action").empty().append("<option>"+I18n.select+"</option>")}),$(".generate-seed").on("click",function(){$.ajax({url:"/permissions/generate_seeds",type:"POST",dataType:"json",success:function(){-1<window.location.href.indexOf("?")?window.location.href="/permissions#done":(window.location.href="/permissions#done",location.reload())},error:function(){}})}),function(){"#done"===window.location.hash&&(window.location.replace("#"),"function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.slice(0,-1)))}()})}).call(this);